<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>From me, To you.</title>

<!-- Pixel Font -->
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

<style>
html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    overflow: hidden;
    font-family: 'Press Start 2P', monospace;
}

/* Background */
#background {
    position: absolute;
    width: 100%;
    height: 100%;
    background: linear-gradient(180deg, #ffb3c6 0%, #ff7ea8 40%, #ff5b84 70%, #ff4081 100%);
}

/* Twinkling stars */
.star {
    position: absolute;
    width: 2px;
    height: 2px;
    background: white;
    border-radius: 50%;
    animation: twinkle 3s infinite alternate;
}
@keyframes twinkle {
    from { opacity: 0.2; }
    to { opacity: 1; }
}

/* Floating hearts */
.heart {
    position: fixed;
    color: #ff99c9;
    font-size: 18px;
    animation: floatUp 6s ease-in infinite;
    opacity: 0.8;
}
@keyframes floatUp {
    0% { transform: translateY(20vh) scale(1); opacity: 1; }
    100% { transform: translateY(-60vh) scale(1.4); opacity: 0; }
}

/* Dialogue box */
#dialogue-box {
    position: absolute;
    bottom: 5%;
    left: 50%;
    transform: translateX(-50%);
    width: 90%;
    max-height: 60%;
    background: rgba(0,0,0,0.7);
    border: 3px solid white;
    border-radius: 12px;
    padding: 15px;
    font-size: 12px;
    line-height: 1.6;
    overflow-y: auto;
    white-space: pre-wrap;
}

/* --- IMPROVED CHARACTER ANIMATION --- */
#character {
    position: absolute;
    bottom: 18%;
    width: 48px;
    height: 48px;
    background: url('https://i.ibb.co/5F4Vfzr/pixel-character.png') center/cover no-repeat;
    
    /* Smooth floating + drift animation */
    animation:
        drift 22s linear infinite,
        bob 2.5s ease-in-out infinite;
}

@keyframes drift {
    0%   { left: -60px; }
    100% { left: 110%; }
}

@keyframes bob {
    0%   { transform: translateY(0); }
    50%  { transform: translateY(-10px); }
    100% { transform: translateY(0); }
}

/* Mute button */
#mute-btn {
    position: fixed; top: 10px; right: 10px;
    padding: 8px 12px;
    background: rgba(255,255,255,0.3);
    border: 2px solid white;
    border-radius: 8px;
    color: white;
    font-family: 'Press Start 2P';
    font-size: 9px;
    cursor: pointer;
    backdrop-filter: blur(6px);
}
#mute-btn:active { transform: scale(0.95); }

</style>
</head>
<body>

<div id="background"></div>

<div id="character"></div>

<div id="dialogue-box">
    <div id="text"></div>
</div>

<button id="mute-btn">MUTE</button>

<!-- Background Music -->
<iframe id="music" src="https://www.youtube.com/embed/NdYWuo9OFAw?autoplay=1&loop=1&playlist=NdYWuo9OFAw&mute=0" allow="autoplay" style="display:none;"></iframe>

<script>
// Pages of love letter
const pages = [
`Hi, think of this as a digital love letter from me to you.

I don't know what things you've been thinking about me lately but now I wanted to tell you what I feel instead of just sending out songs to you.`,

`Some people say that love is blind, or that love is unrequited, but one thing I believe absolutely is that love finds you.

It’s not a word you get to say every day, like "hi" or "hello," and it’s certainly not one you use lightly.`,

`I know this is love because it makes me feel happy. It makes me feel completely and overwhelmingly hopeful.

It’s when I wake up in the morning and genuinely thank God that you still exist in this world.`,

`I know it’s you when I listen to the soft notes of "Iris" and I see only your face.

It’s when I close my eyes and just wish, desperately, that we were close to each other.

It’s the feeling of utter completeness that washes over me simply by thinking of you.

It’s the strange, beautiful fact that it feels like every song I hear calls out your name.`,

`Babe, all of this — the joy, the hope, the music — are just some of what I feel about you.

So much of it is unexplainable, still waiting for the time when I can show and say even more.`,

`Some promises in life are fragile and can be broken, but this is the one promise I know will never falter, never break:

I will keep on loving you.`,

`I will love you from afar, and I will love you when I am close to you.

I love you to the moon and back.`
];

let page = 0;
let charIndex = 0;
const textBox = document.getElementById("text");

// Typewriter effect
function startTyping() {
    if (charIndex < pages[page].length) {
        textBox.innerHTML += pages[page].charAt(charIndex);
        charIndex++;
        setTimeout(startTyping, (window.innerWidth < 600 ? 18 : 25));
    }
}

document.addEventListener("click", () => {
    if (charIndex >= pages[page].length) {
        if (page < pages.length - 1) {
            page++;
            charIndex = 0;
            textBox.innerHTML = "";
            startTyping();
        }
    }
});

startTyping();

// Mute button
const muteBtn = document.getElementById("mute-btn");
muteBtn.addEventListener("click", () => {
    const music = document.getElementById("music");
    if (muteBtn.innerHTML === "MUTE") {
        music.src = music.src.replace("&mute=0", "&mute=1");
        muteBtn.innerHTML = "UNMUTE";
    } else {
        music.src = music.src.replace("&mute=1", "&mute=0");
        muteBtn.innerHTML = "MUTE";
    }
});

// Stars
let starsCount = (window.innerWidth < 600 ? 50 : 100);
for (let i = 0; i < starsCount; i++) {
    let star = document.createElement("div");
    star.className = "star";
    star.style.top = Math.random() * 100 + "vh";
    star.style.left = Math.random() * 100 + "vw";
    star.style.animationDuration = (Math.random() * 3 + 2) + "s";
    document.body.appendChild(star);
}

// Hearts
let heartsCount = (window.innerWidth < 600 ? 10 : 20);
for (let i = 0; i < heartsCount; i++) {
    let h = document.createElement("div");
    h.className = "heart";
    h.innerHTML = "❤";
    h.style.left = Math.random() * 100 + "vw";
    h.style.animationDelay = Math.random() * 6 + "s";
    document.body.appendChild(h);
}
</script>

</body>
</html>
